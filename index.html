<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantifier Practice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            touch-action: manipulation;
            background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
        }
        .app-container {
             background-color: rgba(255, 255, 255, 0.7);
             backdrop-filter: blur(10px);
             border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .dark .app-container {
             background-color: rgba(31, 41, 55, 0.7); /* gray-800 with opacity */
             backdrop-filter: blur(10px);
             border: 1px solid rgba(75, 85, 99, 0.5); /* gray-600 with opacity */
        }
        .option-btn, .classification-btn {
            transition: all 0.2s ease-in-out;
        }
        .option-btn.selected {
            background-color: #3b82f6; /* blue-500 */
            color: white;
            transform: scale(1.05);
        }
        .correct {
            background-color: #22c55e !important; /* green-500 */
            color: white !important;
            border-color: #16a34a !important;
        }
        .incorrect {
            background-color: #ef4444 !important; /* red-500 */
            color: white !important;
            border-color: #dc2626 !important;
        }
        .feedback-animation {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Styles for the new gap-fill activity */
        .gap-input {
            width: 80px;
            border: 1px solid #d1d5db; /* gray-300 */
            border-radius: 6px;
            text-align: center;
            margin: 0 4px;
            padding: 2px 4px;
            background-color: white;
            color: #1e3a8a; /* blue-900 */
            display: inline-block;
            vertical-align: baseline;
        }
        .dark .gap-input {
            background-color: #4b5563; /* gray-600 */
            border-color: #6b7280; /* gray-500 */
            color: #e5e7eb; /* gray-200 */
        }
        .gap-input.correct {
            border-color: #22c55e !important;
            background-color: #dcfce7 !important;
            color: #166534 !important;
        }
        .dark .gap-input.correct {
             background-color: #14532d !important;
             color: #dcfce7 !important;
        }
        .gap-input.incorrect {
            border-color: #ef4444 !important;
            background-color: #fee2e2 !important;
            color: #991b1b !important;
        }
        .dark .gap-input.incorrect {
            background-color: #7f1d1d !important;
            color: #fee2e2 !important;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div id="app-container" class="app-container w-full max-w-md mx-auto rounded-2xl shadow-lg overflow-hidden">
      <div class="p-4 sm:p-6">
        <!-- Main Menu Screen -->
        <div id="start-screen" class="text-center">
            <h1 class="text-3xl sm:text-4xl font-bold text-blue-900 dark:text-white mb-2">Quantifier Practice</h1>
            <p class="text-blue-800 dark:text-gray-300 mb-8">Choose an activity to begin.</p>
            <div class="space-y-4">
                <button id="start-quiz-btn" class="w-full bg-pink-500 hover:bg-pink-600 text-blue font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-md">
                    üìù Sentence Quiz
                </button>
                <button id="start-classification-btn" class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-md">
                    üìä Classification Game
                </button>
                <button id="start-gap-fill-btn" class="w-full bg-violet-500 hover:bg-violet-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 shadow-md">
                    ‚úçÔ∏è Gap Fill Text
                </button>
            </div>
        </div>

        <!-- Sentence Quiz Screen -->
        <div id="quiz-screen" class="hidden">
            <div class="flex justify-between items-center mb-4">
                <button class="menu-nav-btn text-xl p-1 rounded-md hover:bg-white/50">üè†</button>
                <div class="flex items-center space-x-4">
                    <span id="question-counter" class="text-sm font-medium text-blue-800 dark:text-gray-400"></span>
                    <span id="score-counter" class="text-sm font-bold text-blue-600 dark:text-blue-400"></span>
                </div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-700 p-6 rounded-lg mb-6 text-center">
                <p id="sentence" class="text-lg sm:text-xl text-blue-900 dark:text-white leading-relaxed"></p>
            </div>
            <div id="options-container" class="grid grid-cols-2 gap-3 sm:gap-4"></div>
            <div id="feedback-container" class="mt-6 text-center h-6"></div>
            <button id="check-btn" class="w-full mt-4 bg-pink-500 hover:bg-pink-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:scale-100" disabled>Check Answer</button>
            <button id="next-btn" class="w-full mt-4 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-4 rounded-lg text-lg hidden">Next Question</button>
        </div>

        <!-- Classification Game Screen -->
        <div id="classification-screen" class="hidden">
            <div class="flex justify-between items-center mb-4">
                <button class="menu-nav-btn text-xl p-1 rounded-md hover:bg-white/50">üè†</button>
                <div class="flex items-center space-x-4">
                    <span id="classification-question-counter" class="text-sm font-medium text-blue-800 dark:text-gray-400"></span>
                    <span id="classification-score-counter" class="text-sm font-bold text-blue-600 dark:text-blue-400"></span>
                </div>
            </div>
            <div class="bg-gray-50 dark:bg-gray-700 p-8 rounded-lg mb-6 text-center">
                <p class="text-3xl font-bold text-blue-900 dark:text-white" id="word-to-classify"></p>
            </div>
            <p class="text-center text-blue-800 dark:text-gray-400 mb-4">Is this word countable, uncountable, or both?</p>
            <div id="classification-options-container" class="grid grid-cols-1 gap-3 sm:gap-4">
                <button data-category="Countable" class="classification-btn w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-700/50 text-blue-900 dark:text-gray-200 hover:bg-gray-100/70 dark:hover:bg-gray-600/70">Countable</button>
                <button data-category="Uncountable" class="classification-btn w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-700/50 text-blue-900 dark:text-gray-200 hover:bg-gray-100/70 dark:hover:bg-gray-600/70">Uncountable</button>
                <button data-category="Both" class="classification-btn w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-700/50 text-blue-900 dark:text-gray-200 hover:bg-gray-100/70 dark:hover:bg-gray-600/70">Both Countable & Uncountable</button>
            </div>
            <div id="classification-feedback-container" class="mt-6 text-center h-6"></div>
        </div>
        
        <!-- Gap Fill Screen -->
        <div id="gap-fill-screen" class="hidden">
            <div class="flex justify-between items-center mb-2">
                <h2 class="text-2xl font-bold text-blue-900 dark:text-white">Complete the Text</h2>
                <button class="menu-nav-btn text-xl p-1 rounded-md hover:bg-white/50">üè†</button>
            </div>
            <p class="text-center text-blue-800 dark:text-gray-400 mb-6">Type one word in each gap.</p>
            <div class="bg-gray-50 dark:bg-gray-700/80 p-5 rounded-lg mb-6 text-blue-900 dark:text-white leading-relaxed text-base sm:text-lg">
                <p id="gap-fill-text">
                    Let's face it - the food industry is like fashion: there are <b>some</b> trends which people follow. The trend which began a<input data-answer="few" type="text" class="gap-input">years ago is health and wellness. You can see in restaurants and in shops that more and more consumers follow a healthy diet - they eat<input data-answer="lots,a lot" type="text" class="gap-input">of fruit and vegetables, avoid meat products and add very<input data-answer="little" type="text" class="gap-input">salt to their food. There is also another, more recent trend - functional drinks which are supposed to help you with various problems. One example is 'golden latte' - coffee with a<input data-answer="little" type="text" class="gap-input">turmeric, famous for its anti-inflammatory properties. Another drink, called Pretty Happy, which is fairly new in the shops, is a soft drink that can help you relax. Try drinking it<input data-answer="every" type="text" class="gap-input">day, and you will feel less stressed after one week.
                </p>
            </div>
            <button id="check-gaps-btn" class="w-full bg-violet-500 hover:bg-violet-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105">Check Answers</button>
            <div id="gap-fill-results" class="mt-6 text-center h-6 font-semibold text-lg text-blue-900 dark:text-blue-300"></div>
            <button id="gap-fill-menu-btn" class="w-full mt-4 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg text-lg hidden">Back to Menu</button>
        </div>


        <!-- End Screen -->
        <div id="end-screen" class="hidden text-center">
            <h2 id="end-title" class="text-3xl font-bold text-blue-900 dark:text-white mb-2"></h2>
            <p class="text-blue-800 dark:text-gray-300 mb-6">Well done! Here's your final score.</p>
            <div id="end-score-circle" class="p-8 rounded-full w-48 h-48 mx-auto flex flex-col items-center justify-center mb-8">
                <span class="text-5xl font-bold" id="final-score"></span>
                <span class="text-lg" id="total-questions"></span>
            </div>
            <div class="space-y-3">
                <button id="restart-btn" class="w-full text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105">Play Again</button>
                <button id="menu-btn" class="w-full bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105">Back to Menu</button>
            </div>
        </div>
      </div>
    </div>

    <script>
        // --- DOM Elements ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const classificationScreen = document.getElementById('classification-screen');
        const gapFillScreen = document.getElementById('gap-fill-screen');
        const endScreen = document.getElementById('end-screen');

        const startQuizBtn = document.getElementById('start-quiz-btn');
        const startClassificationBtn = document.getElementById('start-classification-btn');
        const startGapFillBtn = document.getElementById('start-gap-fill-btn');
        const menuBtn = document.getElementById('menu-btn');
        
        // --- Quiz Screen Elements ---
        const checkBtn = document.getElementById('check-btn');
        const nextBtn = document.getElementById('next-btn');
        const questionCounter = document.getElementById('question-counter');
        const scoreCounter = document.getElementById('score-counter');
        const sentenceEl = document.getElementById('sentence');
        const optionsContainer = document.getElementById('options-container');
        const feedbackContainer = document.getElementById('feedback-container');

        // --- Classification Screen Elements ---
        const classificationQuestionCounter = document.getElementById('classification-question-counter');
        const classificationScoreCounter = document.getElementById('classification-score-counter');
        const wordToClassify = document.getElementById('word-to-classify');
        const classificationOptionsContainer = document.getElementById('classification-options-container');
        const classificationFeedbackContainer = document.getElementById('classification-feedback-container');
        
        // --- Gap Fill Screen Elements ---
        const checkGapsBtn = document.getElementById('check-gaps-btn');
        const gapFillResults = document.getElementById('gap-fill-results');
        const gapFillMenuBtn = document.getElementById('gap-fill-menu-btn');
        const gapFillText = document.getElementById('gap-fill-text');

        // --- End Screen Elements ---
        const endTitle = document.getElementById('end-title');
        const finalScoreEl = document.getElementById('final-score');
        const totalQuestionsEl = document.getElementById('total-questions');
        const endScoreCircle = document.getElementById('end-score-circle');
        const restartBtn = document.getElementById('restart-btn');

        // --- Data ---
        const quizQuestions = [
            { sentence: "There isn't ___ coffee left.", options: ["much", "many", "few", "every"], answer: "much" }, { sentence: "She has ___ friends who live in London.", options: ["a lot of", "much", "little", "each"], answer: "a lot of" }, { sentence: "Can I have ___ water, please?", options: ["some", "any", "every", "few"], answer: "some" }, { sentence: "I don't have ___ money with me.", options: ["any", "some", "much", "a lot of"], answer: "any" }, { sentence: "There are only a ___ apples in the basket.", options: ["few", "little", "much", "every"], answer: "few" }, { sentence: "We have ___ time, so we need to hurry.", options: ["little", "few", "many", "some"], answer: "little" }, { sentence: "___ student in the class passed the exam.", options: ["Every", "Some", "Any", "Much"], answer: "Every" }, { sentence: "There isn't ___ space for another chair.", options: ["enough", "many", "lots of", "few"], answer: "enough" }, { sentence: "How ___ pages did you read?", options: ["many", "much", "little", "any"], answer: "many" }, { sentence: "___ of the players has their own uniform.", options: ["Each", "Some", "Any", "Much"], answer: "Each" }
        ];
        const classificationWords = [
            { word: 'money', category: 'Uncountable' }, { word: 'many', category: 'Countable' }, { word: 'blueberry', category: 'Countable' }, { word: 'much', category: 'Uncountable' }, { word: 'some', category: 'Both' }, { word: 'information', category: 'Uncountable' }, { word: 'few', category: 'Countable' }, { word: 'a lot of', category: 'Both' }, { word: 'time', category: 'Uncountable' }, { word: 'ingredient', category: 'Countable' }, { word: 'any', category: 'Both' }, { word: 'sugar', category: 'Uncountable' }, { word: 'every', category: 'Countable' }, { word: 'enough', category: 'Both' }, { word: 'beef', category: 'Uncountable' }, { word: 'jar', category: 'Countable' }
        ];

        // --- State ---
        let currentQuestionIndex = 0;
        let score = 0;
        let selectedAnswer = null;
        let currentGame = null; 
        let shuffledQuestions = [];

        // --- Utility Functions ---
        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        // --- Game Flow ---
        function showScreen(screen) {
            [startScreen, quizScreen, classificationScreen, gapFillScreen, endScreen].forEach(s => s.classList.add('hidden'));
            screen.classList.remove('hidden');
        }

        // --- Sentence Quiz Logic ---
        function startQuiz() { currentGame = 'quiz'; showScreen(quizScreen); currentQuestionIndex = 0; score = 0; shuffledQuestions = shuffleArray([...quizQuestions]); loadQuizQuestion(); }
        function loadQuizQuestion() { selectedAnswer = null; checkBtn.disabled = true; nextBtn.classList.add('hidden'); checkBtn.classList.remove('hidden'); feedbackContainer.innerHTML = ''; optionsContainer.innerHTML = ''; const question = shuffledQuestions[currentQuestionIndex]; sentenceEl.innerHTML = question.sentence.replace('___', '<span class="font-bold text-blue-500 dark:text-blue-400">___</span>'); questionCounter.textContent = `Question ${currentQuestionIndex + 1}/${shuffledQuestions.length}`; scoreCounter.textContent = `Score: ${score}`; shuffleArray(question.options).forEach(option => { const button = document.createElement('button'); button.textContent = option; button.className = 'option-btn w-full p-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-700/50 text-blue-900 dark:text-gray-200 hover:bg-gray-100/70 dark:hover:bg-gray-600/70'; button.onclick = () => selectOption(button, option); optionsContainer.appendChild(button); }); }
        function selectOption(button, option) { Array.from(optionsContainer.children).forEach(btn => btn.classList.remove('selected')); button.classList.add('selected'); selectedAnswer = option; checkBtn.disabled = false; }
        function checkQuizAnswer() { const question = shuffledQuestions[currentQuestionIndex]; const isCorrect = selectedAnswer === question.answer; Array.from(optionsContainer.children).forEach(button => { button.disabled = true; if (button.textContent === question.answer) button.classList.add('correct'); if (button.classList.contains('selected') && !isCorrect) button.classList.add('incorrect'); }); if (isCorrect) { score++; feedbackContainer.innerHTML = `<p class="text-green-600 dark:text-green-400 font-semibold feedback-animation">Correct!</p>`; } else { feedbackContainer.innerHTML = `<p class="text-red-500 dark:text-red-400 font-semibold feedback-animation">Answer: "${question.answer}"</p>`; } scoreCounter.textContent = `Score: ${score}`; checkBtn.classList.add('hidden'); nextBtn.classList.remove('hidden'); }
        function nextQuizQuestion() { currentQuestionIndex++; if (currentQuestionIndex < shuffledQuestions.length) { loadQuizQuestion(); } else { showEndScreen(score, shuffledQuestions.length); } }

        // --- Classification Game Logic ---
        function startClassificationGame() { currentGame = 'classification'; showScreen(classificationScreen); currentQuestionIndex = 0; score = 0; shuffledQuestions = shuffleArray([...classificationWords]); loadClassificationWord(); }
        function loadClassificationWord() { classificationFeedbackContainer.innerHTML = ''; const question = shuffledQuestions[currentQuestionIndex]; wordToClassify.textContent = question.word; classificationQuestionCounter.textContent = `Word ${currentQuestionIndex + 1}/${shuffledQuestions.length}`; classificationScoreCounter.textContent = `Score: ${score}`; const buttons = classificationOptionsContainer.querySelectorAll('.classification-btn'); buttons.forEach(button => { button.disabled = false; button.classList.remove('correct', 'incorrect'); button.onclick = () => checkClassificationAnswer(button.dataset.category); }); }
        function checkClassificationAnswer(selectedCategory) { const question = shuffledQuestions[currentQuestionIndex]; const isCorrect = selectedCategory === question.category; const buttons = classificationOptionsContainer.querySelectorAll('.classification-btn'); buttons.forEach(button => { button.disabled = true; if (button.dataset.category === question.category) button.classList.add('correct'); if (button.dataset.category === selectedCategory && !isCorrect) button.classList.add('incorrect'); }); if (isCorrect) { score++; classificationFeedbackContainer.innerHTML = `<p class="text-green-600 dark:text-green-400 font-semibold feedback-animation">Correct!</p>`; } else { classificationFeedbackContainer.innerHTML = `<p class="text-red-500 dark:text-red-400 font-semibold feedback-animation">Correct answer: ${question.category}</p>`; } classificationScoreCounter.textContent = `Score: ${score}`; setTimeout(() => { currentQuestionIndex++; if (currentQuestionIndex < shuffledQuestions.length) { loadClassificationWord(); } else { showEndScreen(score, shuffledQuestions.length); } }, 1500); }

        // --- Gap Fill Logic ---
        function startGapFillGame() {
            currentGame = 'gap-fill';
            showScreen(gapFillScreen);
            gapFillResults.innerHTML = '';
            checkGapsBtn.disabled = false;
            gapFillMenuBtn.classList.add('hidden');
            const inputs = gapFillText.querySelectorAll('.gap-input');
            inputs.forEach(input => {
                input.value = '';
                input.disabled = false;
                input.classList.remove('correct', 'incorrect');
            });
        }

        function checkGapFillAnswers() {
            let correctCount = 0;
            const inputs = gapFillText.querySelectorAll('.gap-input');
            inputs.forEach(input => {
                const userValue = input.value.trim().toLowerCase();
                const correctAnswers = input.dataset.answer.split(',');
                if (correctAnswers.includes(userValue)) {
                    input.classList.add('correct');
                    correctCount++;
                } else {
                    input.classList.add('incorrect');
                }
                input.disabled = true;
            });
            gapFillResults.textContent = `You got ${correctCount} out of ${inputs.length} correct!`;
            checkGapsBtn.disabled = true;
            gapFillMenuBtn.classList.remove('hidden');
        }

        // --- End Screen Logic ---
        function showEndScreen(finalScore, totalQuestions) { 
            showScreen(endScreen); 
            finalScoreEl.textContent = finalScore; 
            totalQuestionsEl.textContent = `out of ${totalQuestions}`; 
            if(currentGame === 'quiz') { 
                endTitle.textContent = 'Quiz Complete!'; 
                endScoreCircle.className = 'p-8 rounded-full w-48 h-48 mx-auto flex flex-col items-center justify-center mb-8 bg-pink-50 dark:bg-gray-700/80'; 
                finalScoreEl.className = 'text-5xl font-bold text-blue-600 dark:text-blue-300'; 
                totalQuestionsEl.className = 'text-lg text-blue-500 dark:text-blue-400'; 
                restartBtn.className = 'w-full text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 bg-pink-500 hover:bg-pink-600'; 
            } else if (currentGame === 'classification') { 
                endTitle.textContent = 'Game Over!'; 
                endScoreCircle.className = 'p-8 rounded-full w-48 h-48 mx-auto flex flex-col items-center justify-center mb-8 bg-amber-50 dark:bg-gray-700/80'; 
                finalScoreEl.className = 'text-5xl font-bold text-blue-600 dark:text-blue-300'; 
                totalQuestionsEl.className = 'text-lg text-blue-500 dark:text-blue-400'; 
                restartBtn.className = 'w-full text-white font-bold py-3 px-4 rounded-lg text-lg transition-transform transform hover:scale-105 bg-amber-500 hover:bg-amber-600'; 
            } 
        }
        function restartGame() { if (currentGame === 'quiz') { startQuiz(); } else if (currentGame === 'classification') { startClassificationGame(); } }
        
        // --- Event Listeners ---
        startQuizBtn.addEventListener('click', startQuiz);
        startClassificationBtn.addEventListener('click', startClassificationGame);
        startGapFillBtn.addEventListener('click', startGapFillGame);
        
        checkBtn.addEventListener('click', checkQuizAnswer);
        nextBtn.addEventListener('click', nextQuizQuestion);
        checkGapsBtn.addEventListener('click', checkGapFillAnswers);

        restartBtn.addEventListener('click', restartGame);
        menuBtn.addEventListener('click', () => showScreen(startScreen));
        gapFillMenuBtn.addEventListener('click', () => showScreen(startScreen));

        const menuNavBtns = document.querySelectorAll('.menu-nav-btn');
        menuNavBtns.forEach(btn => {
            btn.addEventListener('click', () => showScreen(startScreen));
        });
    </script>
</body>
</html>


